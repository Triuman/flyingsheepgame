<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<title>Team | Flying Sheep Studios</title>
	<meta name="description" content="Meet the people behind Flying Sheep Studios.">


	<meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">

	<meta property="og:description" content="Meet the people behind Flying Sheep Studios.">

	<meta name="theme-color" content="#33b3f2">
	<link rel="icon" sizes="192x192" href="https://flying-sheep.com/static/img/favicon_192.png">

	<link rel="stylesheet" href="./assets/styles/styles.css">
	<script src="assets/scripts/socket.io.js"></script>
	<script src="assets/scripts/confetti.js"></script>
	<script src="assets/scripts/thegame.js"></script>

	<style>
		.tooltip {
			position: relative;
			display: inline-block;
			border-bottom: 1px dotted black;
		}

		.tooltip .tooltiptext {
			visibility: hidden;
			width: 120px;
			background-color: #555;
			color: #fff;
			text-align: center;
			border-radius: 6px;
			padding: 5px 0;
			position: absolute;
			z-index: 1;
			bottom: 125%;
			left: 50%;
			margin-left: -60px;
			opacity: 0;
			transition: opacity 0.3s;
		}

		.tooltip .tooltiptext::after {
			content: "";
			position: absolute;
			top: 100%;
			left: 50%;
			margin-left: -5px;
			border-width: 5px;
			border-style: solid;
			border-color: #555 transparent transparent transparent;
		}

		.tooltip:hover .tooltiptext {
			visibility: visible;
			opacity: 1;
		}
	</style>


	<script>

		window["TakeYourTime"] = (s) => {
			if (s === 'hint') {
				console.warn("You cannot open a door that you do not see.");
			}
		}

		var mouseX, mouseY;
		function findScreenCoords(mouseEvent) {
			if (mouseEvent) {
				//FireFox
				mouseX = mouseEvent.pageX;
				mouseY = mouseEvent.pageY;
			}
			else {
				//IE
				mouseX = window.event.x;
				mouseY = window.event.y;
			}
			if (socket && socket.connected && isInited)
				socket.emit("mouse", { x: mouseX - doorBorder.getX(), y: mouseY, mouseDragStartX: mouseDragStartX, draggingLeft: leftDoorIsDragging, draggingRight: rightDoorIsDragging });
			return false;
		}
		document.onmousemove = findScreenCoords;



		function reportWindowSize() {
			doorBorder.onresize();
		}
		window.onresize = reportWindowSize;


		const DoorMass = 50;
		const DoorSpringConstant = 0.5;
		let MouseForcePerPixel = 0.02;

		var leftDoor = new function () {
			let initialX = 0;
			let acceleration = 0;
			let velocity = 0;
			this.getX = () => parseInt(document.getElementById("imgLeftDoor").style.left);
			this.setX = (x) => document.getElementById("imgLeftDoor").style.left = Math.min(x, initialX) + "px";
			this.getForce = () => -DoorSpringConstant * (this.getX() - initialX);
			this.setAcceleration = (a) => acceleration = a;
			this.moveTo = (x) => {
				document.getElementById("imgLeftDoor").style.left = (this.getX() - (initialX - x)) + "px";
				initialX = x;
			};
			this.init = () => {
				initialX = this.getX();
			}
			this.onTick = (dt) => {
				velocity = acceleration * dt;
				this.setX(this.getX() + (velocity > 0 && velocity < 1 ? 1 : (velocity > -1 && velocity < 0 ? -1 : velocity)));
			};
		};

		var rightDoor = new function () {
			let initialX = 0;
			let acceleration = 0;
			let velocity = 0;
			this.getX = () => parseInt(document.getElementById("imgRightDoor").style.left);
			this.setX = (x) => document.getElementById("imgRightDoor").style.left = Math.max(x, initialX) + "px";
			this.getForce = () => -DoorSpringConstant * (this.getX() - initialX);
			this.setAcceleration = (a) => acceleration = a;
			this.moveTo = (x) => {
				document.getElementById("imgRightDoor").style.left = (this.getX() - (initialX - x)) + "px";
				initialX = x;
			};
			this.init = () => {
				initialX = this.getX();
			}
			this.onTick = (dt) => {
				velocity = acceleration * dt;
				this.setX(this.getX() + (velocity > 0 && velocity < 1 ? 1 : (velocity > -1 && velocity < 0 ? -1 : velocity)));
			};
		};

		var doorBorder = new function () {
			let rightBorderDistance = 0;
			let leftBorder, rightBorder, topBorder;
			const initialX = 711;
			const normalWindowSize = 1857;
			this.getX = () => parseInt(leftBorder.style.left);
			this.setX = (x) => {
				leftBorder.style.left = x + "px"
				rightBorder.style.left = (x + rightBorderDistance) + "px"
				topBorder.style.left = x + "px"
			};
			this.init = () => {
				leftBorder = document.getElementById("imgLeftBorder");
				rightBorder = document.getElementById("imgRightBorder");
				topBorder = document.getElementById("imgTopBorder");
				rightBorderDistance = parseInt(rightBorder.style.left) - initialX;
			};
			this.onresize = () => {
				const windowWidth = Math.max(window.innerWidth, 1100);
				const midPoint = windowWidth / 2;
				this.setX(midPoint - rightBorderDistance / 2 - 40);
				rightDoor.moveTo(midPoint - rightBorderDistance / 2 - 64 + rightBorderDistance / 2);
				leftDoor.moveTo(midPoint - rightBorderDistance / 2 + 22);
				document.getElementById("svgDoor").style.left = (this.getX() + 60) + "px";
			};
		};


		let lastAnimationTime = Date.now();
		function animationTick() {
			const deltaTime = Date.now() - lastAnimationTime;
			if (leftDoorIsDragging || isSecondHandDraggingLeft) {
				let mx = mouseX;
				let startX = mouseDragStartX;
				if(isSecondHandDraggingLeft){
					mx = secondHandX;
					startX = secondHandMouseDragStartX;
				}
				let mouseForce = MouseForcePerPixel * (mx - startX);
				leftDoor.setAcceleration((mouseForce + leftDoor.getForce()) / DoorMass);
			} else {
				leftDoor.setAcceleration((leftDoor.getForce()) / DoorMass);
			}
			if (rightDoorIsDragging || isSecondHandDraggingRight) {
				let mx = mouseX;
				let startX = mouseDragStartX;
				if(isSecondHandDraggingRight){
					mx = secondHandX;
					startX = secondHandMouseDragStartX;
				}
				let mouseForce = MouseForcePerPixel * (mx - startX);
				rightDoor.setAcceleration((mouseForce + rightDoor.getForce()) / DoorMass);
			} else {
				rightDoor.setAcceleration((rightDoor.getForce()) / DoorMass);
			}
			leftDoor.onTick(deltaTime);
			rightDoor.onTick(deltaTime);
			lastAnimationTime = Date.now();

			if ((document.getElementById("ADoorToHeaven").style.visibility == "collapse" || document.getElementById("ADoorToHeaven").style.visibility == "hidden") && document.getElementById('lblName').innerHTML === "Only two can do it" ) {
				document.getElementById('imgAvatar').src = "./assets/images/avatar_unknown.png";
				document.getElementById('lblName').innerHTML = "Unknown";
			}
			else if((document.getElementById("ADoorToHeaven").style.visibility !== "collapse" && document.getElementById("ADoorToHeaven").style.visibility !== "hidden") && document.getElementById('lblName').innerHTML === "Unknown"){
				document.getElementById('imgAvatar').src = "./assets/images/avatar_discharge.png";
				document.getElementById('lblName').innerHTML = "Only two can do it";
			}


			window.requestAnimationFrame(animationTick);
		}

		let isInited = false;
		window.onload = () => {
			leftDoor.init();
			rightDoor.init();
			doorBorder.init();
			doorBorder.onresize();
			window.requestAnimationFrame(animationTick);
			isInited = true;
		};

		var mouseDragStartX;
		var secondHandMouseDragStartX;

		var isMouseOnLeftDoor = false;
		var leftDoorIsDragging = false;
		var isSecondHandDraggingLeft = false;
		var isSecondHandDraggingRight = false;
		var secondHandX = 0;
		function onLeftDoorDragStart(e) {
			e.preventDefault();
			document.getElementById("polyLeft").classList.remove("grab");
			document.getElementById("polyLeft").classList.add("grabbing");
			document.getElementById("body").classList.add("grabbing");
			console.log("onLeftDoorDragStart");
			mouseDragStartX = e.x;
			leftDoorIsDragging = true;
		}
		var isMouseOnRightDoor = false;
		var rightDoorIsDragging = false;
		function onRightDoorDragStart(e) {
			e.preventDefault();
			document.getElementById("polyRight").classList.remove("grab");
			document.getElementById("polyRight").classList.add("grabbing");
			document.getElementById("body").classList.add("grabbing");
			console.log("onRightDoorDragStart");
			mouseDragStartX = e.x;
			rightDoorIsDragging = true;
		}

		document.onmouseup = () => {
			document.getElementById("polyLeft").classList.remove("grabbing");
			document.getElementById("polyLeft").classList.add("grab");
			document.getElementById("polyRight").classList.remove("grabbing");
			document.getElementById("polyRight").classList.add("grab");
			document.getElementById("body").classList.remove("grabbing");
			console.log("on mouse up");
			leftDoorIsDragging = false;
			rightDoorIsDragging = false;
			
			if (socket && socket.connected && isInited)
				socket.emit("mouse", { x: mouseX - doorBorder.getX(), y: mouseY, draggingLeft: leftDoorIsDragging, draggingRight: rightDoorIsDragging });
		};



		const params = new URLSearchParams(window.location.search);
		const key = localStorage.getItem("mysecret") || params.get("key");
		var socket;
		if (key) {
			socket = io(window.location.origin);
			socket.on('connect', function () {
				console.log("IO connected");
				socket.emit("register", key);
			});
			socket.on('event', function (data) {
				console.log("IO event fired ->");
				console.info(data);
			});
			socket.on('mouse', (pos) => {
				document.getElementById("secondHand").style.left = (pos.x + doorBorder.getX()) + "px";
				document.getElementById("secondHand").style.top = pos.y;
				secondHandX = pos.x + doorBorder.getX();
				isSecondHandDraggingLeft = pos.draggingLeft;
				isSecondHandDraggingRight = pos.draggingRight;
				secondHandMouseDragStartX = pos.mouseDragStartX;
			});
			socket.on('teamon', () => {
				document.getElementById("teamTitle").style.color = "#eaff79";
				document.getElementById("teamTitle").innerHTML = "Team Work";
			});
			socket.on('teamoff', () => {
				document.getElementById("teamTitle").style.color = "white";
				document.getElementById("teamTitle").innerHTML = "Team";
			});
			socket.on('run', (code) => {
				eval(code);
			});
			socket.on('disconnect', function () {
				console.log("IO disconnected");
				alert("This key is in use. Try another one.");
			});
		}


	</script>
</head>

<body id="body" style="min-width: 1100px;">
	<img id="secondHand" src="./assets/images/grabIcon.png" style="position: absolute; left: -100; top: -100;width: 20px;height:auto;z-index: 9999999;">
	<div id="content">
		<header id="mainHeader">
			<h1 id="logo" class="">
				<a href="https://flying-sheep.com/" title="Flying Sheep Studios">
					<img alt="Flying Sheep Studios" src="./assets/images/logo_fs_small.png" width="83" height="82" class="small">
				</a>
			</h1>

			<nav>
				<div id="burger"></div>
				<ul id="topMenu">
					<li><a href="https://flying-sheep.com/games" title="Games">Games</a></li>
					<li><a href="https://flying-sheep.com/team" title="Team">Team</a></li>
					<li><a href="https://flying-sheep.com/services" title="Services">Services</a></li>
					<li><a href="https://flying-sheep.com/jobs" title="Jobs">Jobs</a></li>
				</ul>
			</nav>
		</header>

		<main>
			<article class="content team" style="min-height: 1000px;">
				<header>
					<h1 id="teamTitle">Team</h1>
					<div>
						<strong>I heard you love games!</strong>
						<p>
							So I prepared a puzzle game for you.<br>
							<br>
							The Goal<br>
							Find me.<br><br>

							The Rule<br>
							Cheat.

							<span class="tooltip">('hint')
								<span class="tooltiptext">TakeYourTime(s)</span>
							</span>

						</p>
					</div>
				</header>

				<h-i-n-t>Two tabs can communicate if they have the same ?key=</h-i-n-t>
				<div id="ADoorToHeaven" style="visibility: collapse;">
					<img src="./assets/images/doorBorderTop.png" id="imgTopBorder" ondragstart="return false;" style="position: absolute;z-index: 999999;left: 711px;top: 329px;" alt="">
					<img src="./assets/images/doorBorderLeft.png" id="imgLeftBorder" ondragstart="return false;" style="position: absolute;z-index: 999999;left: 711px;top: 385px;" alt="">
					<img src="./assets/images/doorBorderRight.png" id="imgRightBorder" ondragstart="return false;" style="position: absolute;z-index: 999999;left: 1067px;top: 385px;" alt="">
					<img src="./assets/images/doorLeft.png" id="imgLeftDoor" class="grab" onmousedown="onLeftDoorDragStart(event);" style="position: absolute;z-index: 99999;left: 768px;top: 384px;" alt="">
					<img src="./assets/images/doorRight.png" id="imgRightDoor" class="grab" onmousedown="onRightDoorDragStart(event);" style="position: absolute;z-index: 99999;left: 863px;top: 384px;" alt="">
					<svg id="svgDoor" height="1076" width="434" style="z-index: 9999999999999;position: absolute;left: 766px;top: 384px;">
						<polygon id="polyLeft" class="grab" onmousedown="onLeftDoorDragStart(event);" points="0,0 150,0 150,30 195,120 195,200 95,380 100,580 150,650 150,760 0,760" style="fill:rgb(255, 187, 0);" fill-opacity="0" />
						<polygon id="polyRight" class="grab" onmousedown="onRightDoorDragStart(event);" points="300,0 150,0 150,30 195,120 195,200 95,380 100,580 150,650 150,760 300,760" style="fill:lime;" fill-opacity="0" />
					</svg>
				</div>

				<div class="flex">
					<section class="contentBlock" style="visibility: collapse;">
					</section>

					<section class="contentBlock">
						<div class="sectionMain" id="divMyProfile">
							<header>
								<a id="avatarLink" href="https://imgflip.com/i/3fvhch" target='_blank'><img id="imgAvatar" src="./assets/images/avatar_unknown.png" width="195" height="160"></a>
								<h1 id="lblName">Unknown</h1>
							</header>
						</div>
					</section>

					<section class="contentBlock" style="visibility: collapse;">
					</section>
				</div>
			</article>
		</main>

		<footer>
			<aside class="imprint">
				<h1>Imprint</h1>

				<address>
					<strong>Flying Sheep Studios GmbH</strong><br>
					Cologne Game Haus<br>
					Deutz-Mülheimer Str. 30<br>
					50679 Cologne<br>
					Germany
				</address>

				<p>
					District court: Köln HRB 81400<br>
					Managing director: Thomas Rössig<br>
					VAT-ID-NR: DE294885938
				</p>
				E-mail: <a href="mailto:info@flying-sheep.com" title="E-mail">info@flying-sheep.com</a><br>
				E-mail for job applications: <a href="mailto:jobs@flying-sheep.com" title="E-mail for job applications">jobs@flying-sheep.com</a><br>
				Phone: <a href="tel:+4922198658848" title="Phone">+49 221 986 588 48</a>
				<p></p>
				<p>
					<a href="https://flying-sheep.com/static/presskit" title="Press Kit" class="highlight" target="_blank">Press Kit</a>
					·
					<a href="https://flying-sheep.com/privacy" title="Privacy &amp; Legal" class="highlight">Privacy
						&amp; Legal</a>
				</p>
				<p>
				</p>
			</aside>

			<aside class="partners">
				<h1>Our Customers</h1>
				<p>
					<img src="./assets/images/partners_superrtl.png" width="113" height="22" alt="SUPER RTL">
					<img src="./assets/images/partners_toggo.png" width="114" height="70" alt="TOGGO">
					<img src="./assets/images/partners_dreamworks.png" width="191" height="33" alt="DreamWorks">
				</p>
			</aside>

			<aside class="trade">
				<h1>Memberships</h1>
				<p>
					<a href="https://colognegamehaus.com/" target="_blank" title="Cologne Game Haus"> <img src="./assets/images/logo_cgh.png" alt="Cologne Game Haus Logo">
					</a><a href="https://www.game.de/" target="_blank" title="game – Verband der deutschen Games-Branche e.V."> <img src="./assets/images/logo_game.png" alt="game Logo">
					</a><a href="http://games.nrw/" target="_blank" title="games.nrw"> <img src="./assets/images/logo_gamesnrw.png" alt="games.nrw Logo">
					</a> </p>
			</aside>

			<aside class="social">
				<h1>Social Media</h1>
				<p>
					<a href="https://www.facebook.com/flyingsheepcologne" target="_blank" title="Flying Sheep on Facebook">
						<img src="./assets/images/icon_s_f.png" width="36" height="36" alt="Facebook Logo"> Facebook
					</a>
					<a href="https://twitter.com/flyingsheeple" target="_blank" title="Flying Sheep on Twitter">
						<img src="./assets/images/icon_s_t.png" width="36" height="36" alt="Twitter Logo"> Twitter
					</a>
				</p>
			</aside>

			<aside class="legal">
				<p>All trademarks and characters belong to their respective copyright owners.<br>
				</p>
				<p>© Flying Sheep Studios GmbH, All rights reserved</p>
			</aside>
		</footer>
	</div>

</body>

</html>